# Phase 1 Comprehensive Sweep: MantisV2 Frozen Embeddings + sklearn Classifiers
#
# Redesigned after initial round findings:
#   - Context window is THE dominant factor (AUC: 0.56@1min → 0.84@241min)
#   - Layer choice is negligible (±0.01 AUC across L0-L5)
#   - MantisV2 only supports output_token="combined" (cls/mean fail)
#
# 3 parallel sweep groups (A/B/C) for optimal configuration search.
#
# Usage:
#   cd examples/classification/apc_occupancy
#
#   # All groups (sequential)
#   python training/run_phase1_sweep.py --config training/configs/occupancy-phase1.yaml --device cuda
#
#   # Single group (parallel GPU servers)
#   python training/run_phase1_sweep.py --config training/configs/occupancy-phase1.yaml --group A --device cuda
#   python training/run_phase1_sweep.py --config training/configs/occupancy-phase1.yaml --group B --device cuda
#   python training/run_phase1_sweep.py --config training/configs/occupancy-phase1.yaml --group C --device cuda

seed: 42
output_dir: results/phase1_sweep
split_date: "2026-02-15"

# --- Model ---
model:
  pretrained_name: "paris-noah/MantisV2"

# --- Data ---
# Cleaned event-based labels + 1-min interval sensor data (02/09~02/23).
# Binary: count >= 1 = Occupied, count = 0 = Empty.
data:
  sensor_csv: "/group-volume/ts-dataset/AIHub/enter_leave/merged_processed_data_with_motion_count_0209_0223_interval1.csv"
  label_csv: "/group-volume/ts-dataset/AIHub/enter_leave/occupancy_events_0210_0219_processed_with_none_cleaned.csv"
  label_format: "events"
  initial_occupancy: 0
  binarize: true

# --- Defaults (updated based on initial round best) ---
default_channels:
  - d620900d_motionSensor
  - 408981c2_contactSensor

# L2 was best at 241min (AUC=0.8391), used as default for Groups A & B
default_layer: 2
# Default context for groups that don't sweep context
default_context_before: 120
default_context_after: 120
stride: 1
